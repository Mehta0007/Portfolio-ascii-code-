---
import Layout from "@/layouts/Layout.astro";
import Header from "@/components/Header.astro";
import Footer from "@/components/Footer.astro";
import RandomAsciiImage from "@/components/ascii/random-ascii-image";
import { ASCII_IMAGE_PATHS } from "@/components/ascii/constants/random-ascii-images.config";
import { PROJECTS } from "@/constants/projects";
import { ME } from "@/constants/me";
---

<Layout title={`Projects | ${ME.name}`} description={`projects by ${ME.name}`}>
  <div class="relative z-10 min-h-screen flex flex-col">
    <Header currentPage="projects" />

    <main
      class="w-full max-w-4xl mx-auto px-4 py-8 flex-1 pb-16"
      transition:name="main-content"
    >
      <h1 class="font-mono text-2xl md:text-3xl">
        <span class="text-green-600 dark:text-green-400">#</span> projects
      </h1>

      <div class="mt-12 pt-7 border-t border-zinc-200 dark:border-zinc-800 group">
        <p class="font-mono text-sm text-zinc-600 dark:text-zinc-400">
          <span class="text-green-600 dark:text-green-400">~$</span>{" "}
          projects.status = "in progress"
          <span class="ml-1 opacity-0 group-hover:opacity-100 animate-pulse text-green-600 dark:text-green-400">
            _
          </span>
        </p>
      </div>

      <section class="mt-8" aria-label="Projects list">
        <h2 class="sr-only">All projects</h2>

        <ul class="space-y-10 font-mono text-sm">
          {
            PROJECTS.map((project) => (
              <li>
                <article class="group border border-zinc-200 dark:border-zinc-800 rounded-lg p-4 hover:border-green-500/50 transition">

                  {/* Header */}
                  <div class="flex items-center justify-between">
                    <div class="flex items-center gap-2">
                      <span class="text-green-600 dark:text-green-400 select-none">
                        ~$
                      </span>

                      <h3 class="text-lg font-semibold group-hover:text-green-500 transition">
                        {project.name}
                      </h3>
                    </div>

                    <span class="text-xs px-2 py-1 rounded bg-zinc-100 dark:bg-zinc-800">
                      {project.status}
                    </span>
                  </div>

                  {/* Short */}
                  <p class="mt-2 text-zinc-600 dark:text-zinc-400">
                    {project.short}
                  </p>

                  {/* Description */}
                  <p class="mt-2 text-zinc-500 dark:text-zinc-400 text-sm">
                    {project.description}
                  </p>

                  {/* Features */}
                  <ul class="mt-3 ml-4 list-disc text-zinc-600 dark:text-zinc-400">
                    {project.features.map((f) => (
                      <li>{f}</li>
                    ))}
                  </ul>

                  {/* Tech */}
                  <p class="mt-3 text-xs text-zinc-500">
                    {project.tech.join(" • ")}
                  </p>

                  {/* Links */}
                  <div class="mt-4 text-xs space-y-1 text-zinc-500">
                    {project.live && (
                      <p>
                        ↗ live:{" "}
                        <a
                          href={project.live}
                          target="_blank"
                          class="hover:text-green-500 transition"
                        >
                          {project.live.replace("https://", "")}
                        </a>
                      </p>
                    )}

                    {project.github && (
                      <p>
                        ↗ repo:{" "}
                        <a
                          href={project.github}
                          target="_blank"
                          class="hover:text-green-500 transition"
                        >
                          {project.github.replace("https://", "")}
                        </a>
                      </p>
                    )}
                  </div>

                </article>
              </li>
            ))
          }
        </ul>

      </section>
    </main>

    <Footer />
  </div>

  <RandomAsciiImage client:idle images={ASCII_IMAGE_PATHS.right} />
</Layout>